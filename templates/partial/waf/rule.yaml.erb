# -----------------------------------------------------------------------------
# Valid Values for Predicates[].Type:
# - IPMatch
# - ByteMatch
# - SqlInjectionMatch
# - SizeConstraint
# - XssMatch
# -----------------------------------------------------------------------------
  <%= @id %>:
    Type: "AWS::WAF::Rule"
    Properties:
      MetricName: !Join ['', [!Ref ProjectName, <%= @name %>, <%= @tag %>]]
      Name: !Sub 'pr-wafr-${ProjectName}-<%= @name %>-${AWS::AccountId}-prod'
      Predicates: <% @predicates.each do |predicate| %>
        - DataId:
            Ref: <%= predicate['id'] %>
          Negated: true
          Type: <%= predicate['type'] %> <% end %>
