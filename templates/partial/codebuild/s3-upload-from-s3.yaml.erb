  <%= @logicalId %>:
    Type: "AWS::CodeBuild::Project"
    Properties:
      Name: !Join ['-', [!Ref 'ProjectName', '<%= @action %>', '<%= @tag %>']]
      Description: "Upload resources to an S3 bucket"
      Source:
        Type: "S3"
        Location: "<%= @source %>/release.zip"
<%= partial(@buildSpec) %>
      Environment:
        Type: "container"
        Image: "aws/codebuild/ubuntu-base:14.04"
        ComputeType: "small"
        EnvironmentVariables:
<%= partial(@environmentVars, source: @source, dest: @dest) %>
      Artifacts:
        Type: "NO_ARTIFACTS"
      ServiceRole:
        Ref: PipelineRole
      TimeoutInMinutes: 60
      EncryptionKey: !Join [':', ['arn:aws:kms', !Ref 'AWS::Region', !Ref 'AWS::AccountId', 'alias/aws/s3']]
      Tags: []
