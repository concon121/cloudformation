<% if @codecommits && !@codecommits.nil? || @codecommitNames && !@codecommitNames.nil?%>
          - Action:
              - "codecommit:BatchGetRepositories"
              - "codecommit:Get*"
              - "codecommit:List*"
              - "codecommit:CreateRepository"
              - "codecommit:CreateBranch"
              - "codecommit:DeleteBranch"
              - "codecommit:Put*"
              - "codecommit:Test*"
              - "codecommit:Update*"
              - "codecommit:GitPull"
              - "codecommit:GitPush"
              - "codecommit:CancelUploadArchive"
              - "codecommit:GetBranch"
              - "codecommit:GetCommit"
              - "codecommit:GetUploadArchiveStatus"
              - "codecommit:UploadArchive"
            Resource: <% if @codecommits && !@codecommits.nil? %><% @codecommits.each do |codecommit| %>
              - !Sub 'arn:aws:codecommit:${AWS::Region}:${AWS::AccountId}:${<%= codecommit %>}'<% end %><% end %>
               <% if @codecommitNames && !@codecommitNames.nil? %><% @codecommitNames.each do |codecommit| %>
              - !Sub 'arn:aws:codecommit:${AWS::Region}:${AWS::AccountId}:<%= codecommit %>'<% end %><% end %>
            Effect: "Allow"
<% end %>
